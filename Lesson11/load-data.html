<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh sách sản phẩm</title>
    <style>
        .table{
            margin: 0 auto;
            width: 80%;
            border: 1px solid #cccc;
        }
        table thead th, table tbody td{
            border-right: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <button onclick="loadData();">Load Data</button>
    <section id="product-list">
        <h1>DANH SÁCH SẢN PHẨM</h1>
        <table class="table">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Image</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>P001</td>
                    <td>Nokia</td>
                    <td>img1.jpg</td>
                    <td>100</td>
                    <td>2.000</td>
                    <td>200.000</td>
                </tr>
            </tbody>
        </table>

        <h2> Form thêm mới sản phẩm</h2>
        <div>
            <div class="row">
                <label for="id">id</label>
                <input type="text" name="id" id="id">
            </div>
            <div class="row">
                <label for="name">name</label>
                <input type="text" name="name" id="name">
            </div>
            <div class="row">
                <label for="image">image</label>
                <input type="text" name="image" id="image">
            </div>
            <div class="row">
                <label for="quantity">quantity</label>
                <input type="number" name="quantity" id="quantity">
            </div>
            <div class="row">
                <label for="price">price</label>
                <input type="number" name="price" id="price">
            </div>
            <input type="button" value="Thêm" onclick="addProduct();">
        </div>
    </section>

    <script src="data.js"></script>
    <script>
        var stt=0;
        const loadData = ()=>{
            console.log(product);
            let element = document.querySelectorAll("table tbody")[0];
            console.log(element.innerHTML);
            element.innerHTML="";
            let strHTML ="";
            
            product.forEach(obj => {
                stt++;
                let total = obj.quantity*obj.price;
                strHTML +=`<tr>
                            <td>${stt}</td>
                            <td>${obj.id}</td>
                            <td>${obj.name}</td>
                            <td>${obj.image}</td>
                            <td>${obj.quantity}</td>
                            <td>${obj.price}</td>
                            <td>${total}</td>
                        </tr>`;
            });
            element.innerHTML=strHTML;
        }

        const addProduct =()=>{
            // lấy dữ liệu nhập trên form => tạo object
            let id=document.getElementById("id").value;
            let name=document.getElementById("name").value;
            let image=document.getElementById("image").value;
            let quantity=document.getElementById("quantity").value;
            let price=document.getElementById("price").value;
            // tạo đối tượng product
            let obj ={
                id:id,
                name:name,
                image:image,
                quantity:quantity,
                price:price,
            }
            console.log(obj);
            // thêm vào mảng (push);
            product.push(obj);
            console.log(product);
            // loadData();
            stt++;
            let total = obj.quantity*obj.price;
            strHTML =`<tr>
                            <td>${stt}</td>
                            <td>${obj.id}</td>
                            <td>${obj.name}</td>
                            <td>${obj.image}</td>
                            <td>${obj.quantity}</td>
                            <td>${obj.price}</td>
                            <td>${total}</td>
                        </tr>`;
            let element = document.querySelectorAll("table tbody")[0];
            element.innerHTML +=strHTML;
        }
    </script>
</body>
</html>